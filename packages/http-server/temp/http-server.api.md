## API Report File for "@tbdex/http-server"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />

import type { Close } from '@tbdex/protocol';
import type { Express as Express_2 } from 'express';
import { IncomingMessage } from 'http';
import type { MessageKindClass } from '@tbdex/protocol';
import type { MessageKindClasses } from '@tbdex/protocol';
import type { Offering } from '@tbdex/protocol';
import type { Order } from '@tbdex/protocol';
import type { OrderStatus } from '@tbdex/protocol';
import type { Quote } from '@tbdex/protocol';
import type { Request as Request_2 } from 'express';
import type { Response as Response_2 } from 'express';
import type { Rfq } from '@tbdex/protocol';
import { Server } from 'http';
import { ServerResponse } from 'http';

// Warning: (ae-forgotten-export) The symbol "RequestKind" needs to be exported by the entry point main.d.ts
//
// @beta
type CallbackMap = {
    [Kind in RequestKind]?: Kind extends GetKind ? GetCallback<Kind> : Kind extends SubmitKind ? SubmitCallback<Kind> : never;
};

// @beta
export interface ExchangesApi {
    getClose(opts: {
        exchangeId: string;
    }): Promise<Close | undefined>;
    getExchange(opts: {
        id: string;
    }): Promise<MessageKindClass[] | undefined>;
    getExchanges(opts?: {
        filter: GetExchangesFilter;
    }): Promise<MessageKindClass[][] | undefined>;
    getOrder(opts: {
        exchangeId: string;
    }): Promise<Order | undefined>;
    getOrderStatuses(opts: {
        exchangeId: string;
    }): Promise<OrderStatus[] | undefined>;
    getQuote(opts: {
        exchangeId: string;
    }): Promise<Quote | undefined>;
    getRfq(opts: {
        exchangeId: string;
    }): Promise<Rfq | undefined>;
}

// @beta
export type Filters = {
    'offerings': GetOfferingsFilter;
    'exchanges': GetExchangesFilter;
};

// @beta
export type GetCallback<T extends GetKind> = (ctx: RequestContext, filter: Filters[T]) => any;

// @beta
export type GetCallbacks = {
    [Kind in GetKind]: GetCallback<Kind>;
};

// @beta
export type GetExchangesFilter = {
    exchangeId?: string[];
};

// @beta
export type GetKind = 'exchanges' | 'offerings';

// @beta
export type GetOfferingsFilter = {
    payinCurrency?: string;
    payoutCurrency?: string;
    id?: string;
};

// @beta
type NewHttpServerOptions = {
    offeringsApi?: OfferingsApi;
    exchangesApi?: ExchangesApi;
};

// @beta
export interface OfferingsApi {
    getOffering(opts: {
        id: string;
    }): Promise<Offering | undefined>;
    getOfferings(opts?: {
        filter: GetOfferingsFilter;
    }): Promise<Offering[] | undefined>;
}

// @beta
export type RequestContext = {
    request: Request_2;
    response: Response_2;
};

// @beta
export type RequestHandler = (request: Request_2, response: Response_2) => any;

// @beta
type RequestKind = GetKind | SubmitKind;

// @beta
export type SubmitCallback<T extends SubmitKind> = (ctx: RequestContext, message: MessageKindClasses[T]) => any;

// @beta
export type SubmitCallbacks = {
    [Kind in SubmitKind]: SubmitCallback<Kind>;
};

// @beta
export type SubmitKind = 'rfq' | 'order' | 'close';

// @beta
export class TbdexHttpServer {
    // Warning: (ae-forgotten-export) The symbol "NewHttpServerOptions" needs to be exported by the entry point main.d.ts
    constructor(opts?: NewHttpServerOptions);
    api: Express_2;
    // Warning: (ae-forgotten-export) The symbol "CallbackMap" needs to be exported by the entry point main.d.ts
    callbacks: CallbackMap;
    exchangesApi: ExchangesApi;
    get<T extends GetKind>(resourceKind: T, callback: GetCallbacks[T]): void;
    listen(port: number | string, callback?: () => void): Server<IncomingMessage, ServerResponse>;
    offeringsApi: OfferingsApi;
    submit<T extends SubmitKind>(messageKind: T, callback: SubmitCallbacks[T]): void;
}


export * from "@tbdex/http-client";

```
